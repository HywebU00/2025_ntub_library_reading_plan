<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="readingPlan">
      <div class="contentBox">
        <div class="topBox">
          <div class="container">
            <h2>閱讀履歷</h2>
          </div>
          <nav class="tabTopNav">
            <ul>
              <li><button class="active">閱讀履歷指標儀表板</button></li>
              <li><button>主題書單</button></li>
              <li><button>系所適用書單</button></li>
            </ul>
          </nav>
        </div>

        <div class="tabContentBox">
          <div class="tabContent active">
            <div class="dialog">
              <div class="dialogContent">
                <div class="pic">
                  <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#2bb800ff">
                    <path
                      d="m421-298 283-283-46-45-237 237-120-120-45 45 165 166Zm59 218q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-156t86-127Q252-817 325-848.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 82-31.5 155T763-197.5q-54 54.5-127 86T480-80Zm0-60q142 0 241-99.5T820-480q0-142-99-241t-241-99q-141 0-240.5 99T140-480q0 141 99.5 240.5T480-140Zm0-340Z"
                    />
                  </svg>
                </div>
                <div class="title">報告已生成</div>
                <p>您的閱讀履歷報告已成功生成！</p>
                <button class="btn">確定</button>
              </div>
            </div>

            <div class="mainBox hasSide">
              <div class="dImg">
                <img src="images/img.png" alt="" />
              </div>
              <aside>
                <div class="reader">
                  <div class="infoTitle">讀者資料</div>
                  <ul>
                    <li>
                      <div class="title">姓名 /</div>
                      <div class="content">王小明</div>
                    </li>
                    <li>
                      <div class="title">證號 /</div>
                      <div class="content">11300001</div>
                    </li>
                    <li>
                      <div class="title">身分 /</div>
                      <div class="content">大學部學生</div>
                    </li>
                    <li>
                      <div class="title">系所 /</div>
                      <div class="content">資訊工程系</div>
                    </li>
                  </ul>
                </div>
                <div class="search">
                  <div class="infoTitle">查詢設定</div>
                  <ul>
                    <li>
                      <div class="title">起始日期</div>
                      <div class="content">
                        <input type="date" />
                      </div>
                    </li>
                    <li>
                      <div class="title">結束日期</div>
                      <div class="content">
                        <input type="date" />
                      </div>
                    </li>
                  </ul>
                  <button class="btn">產生報告</button>
                </div>
              </aside>
              <div class="chartBox">
                <div class="infoTitle">
                  閱讀指標分析
                  <span>報告期間：2025-06-01 至 2025-07-31</span>
                </div>
                <!-- loading 第一次進入時顯示，資料出現後隱藏-->
                <div class="loading" style="display: none"></div>
                <!-- loading end-->

                <div class="outerBox">
                  <div class="chart barChart">
                    <div class="chartTitle type1">專業能力指標</div>
                    <!-- loading 資料更新時顯示，更新完畢隱藏-->
                    <div class="loading" style="display: none"></div>
                    <!-- loading end-->
                    <div class="box"><canvas id="chartBar1"></canvas></div>
                  </div>
                  <div class="chart barChart">
                    <div class="chartTitle type2">共同職能指標</div>
                    <!-- loading 資料更新時顯示，更新完畢隱藏-->
                    <div class="loading" style="display: none"></div>
                    <!-- loading end-->
                    <div class="box"><canvas id="chartBar2"></canvas></div>
                  </div>
                  <div class="chart radarChart">
                    <div class="chartTitle type1">專業能力指標</div>
                    <!-- loading 資料更新時顯示，更新完畢隱藏-->
                    <div class="loading" style="display: none"></div>
                    <!-- loading end-->
                    <div class="box"><canvas id="chartRadar1"></canvas></div>
                  </div>
                  <div class="chart radarChart">
                    <div class="chartTitle type2">共同職能指標</div>
                    <!-- loading 資料更新時顯示，更新完畢隱藏-->
                    <div class="loading" style="display: none"></div>
                    <!-- loading end-->
                    <div class="box"><canvas id="chartRadar2"></canvas></div>
                  </div>
                </div>
                <div class="bottomBox">
                  <div class="total">閱讀冊數 (統計樣本)：<span>1000</span>本</div>
                  <div class="btnBox">
                    <button class="printBtn" onClick="{handleClose}">列印報告</button>
                    <button class="exportBtn" onClick="{handleClose}">匯出PDF</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tabContent">
            <div class="mainBox">
              <div class="bookList">
                <div class="searchBox">
                  <div class="infoTitle">主題書單</div>
                  <div class="inputBox">
                    <input placeholder="請輸入書名" aria-label="請輸入書名" type="text" />
                  </div>
                </div>
                <div class="searchBox">
                  <div class="infoTitle">專業能力指標</div>
                  <div class="checkBox type1">
                    <div class="checkItem"><input id="checkbox_1" type="checkbox" name="商業分析與決策" /><label for="checkbox_1">商業分析與決策</label></div>
                    <div class="checkItem"><input id="checkbox_2" type="checkbox" name="資訊管理應用" /><label for="checkbox_2">資訊管理應用</label></div>
                    <div class="checkItem"><input id="checkbox_3" type="checkbox" name="商品設計與研發" /><label for="checkbox_3">商品設計與研發</label></div>
                    <div class="checkItem"><input id="checkbox_4" type="checkbox" name="商管相關法令應用" /><label for="checkbox_4">商管相關法令應用</label></div>
                    <div class="checkItem"><input id="checkbox_5" type="checkbox" name="語言應用能力" /><label for="checkbox_5">語言應用能力</label></div>
                    <div class="checkItem"><input id="checkbox_6" type="checkbox" name="國際經貿知識與實務" /><label for="checkbox_6">國際經貿知識與實務</label></div>
                    <div class="checkItem"><input id="checkbox_7" type="checkbox" name="數位科技應用" /><label for="checkbox_7">數位科技應用</label></div>
                    <div class="checkItem"><input id="checkbox_8" type="checkbox" name="財務管理與金融投資" /><label for="checkbox_8">財務管理與金融投資</label></div>
                    <div class="checkItem"><input id="checkbox_9" type="checkbox" name="組織與人力資源管理" /><label for="checkbox_9">組織與人力資源管理</label></div>
                  </div>
                </div>

                <div class="searchBox">
                  <div class="infoTitle">共同職能指標</div>
                  <div class="checkBox type2">
                    <div class="checkItem"><input id="checkbox_10" type="checkbox" name="溝通表達" /><label for="checkbox_10">溝通表達</label></div>
                    <div class="checkItem"><input id="checkbox_11" type="checkbox" name="持續學習" /><label for="checkbox_11">持續學習</label></div>
                    <div class="checkItem"><input id="checkbox_12" type="checkbox" name="人際互動" /><label for="checkbox_12">人際互動</label></div>
                    <div class="checkItem"><input id="checkbox_13" type="checkbox" name="團隊合作" /><label for="checkbox_13">團隊合作</label></div>
                    <div class="checkItem"><input id="checkbox_14" type="checkbox" name="問題解決" /><label for="checkbox_14">問題解決</label></div>
                    <div class="checkItem"><input id="checkbox_15" type="checkbox" name="創新能力" /><label for="checkbox_15">創新能力</label></div>
                    <div class="checkItem"><input id="checkbox_16" type="checkbox" name="工作責任與紀律" /><label for="checkbox_16">工作責任與紀律</label></div>
                    <div class="checkItem"><input id="checkbox_17" type="checkbox" name="資訊科技應用" /><label for="checkbox_17">資訊科技應用</label></div>
                    <div class="checkItem"><input id="checkbox_18" type="checkbox" name="品格與人文素養" /><label for="checkbox_18">品格與人文素養</label></div>
                  </div>
                </div>

                <div class="btnBox">
                  <button class="clear">清除所有選擇</button>
                  <button>套用篩選</button>
                </div>

                <div class="listBox">
                  <!-- 沒資料時顯示-->
                  <div class="noData" style="display: none">查無資料...</div>
                  <!-- 沒資料時顯示-->

                  <div class="item">
                    <div class="picBox">
                      <div class="pic"><img alt="" src="https://images.unsplash.com/photo-1529590003495-b2646e2718bf?q=80&amp;w=776&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" /></div>
                    </div>
                    <div class="title">智慧工廠的資訊管理</div>
                    <div class="author">作者：陳思涵</div>
                    <div class="tagBox">
                      <div class="tag type1">資訊管理應用</div>
                      <div class="tag type1">數位科技應用</div>
                      <div class="tag type2">資訊科技應用</div>
                    </div>
                    <button>查看詳情</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="tabContent">
            <div class="mainBox">
              <div class="bookList">
                <div class="searchBox">
                  <div class="infoTitle">主題書單</div>
                  <div class="inputBox">
                    <input placeholder="請輸入書名" aria-label="請輸入書名" type="text" />
                  </div>
                </div>
                <div class="searchBox">
                  <div class="infoTitle">專業能力指標</div>
                  <div class="checkBox type1">
                    <div class="checkItem"><input id="checkbox_1" type="checkbox" name="商業分析與決策" /><label for="checkbox_1">商業分析與決策</label></div>
                    <div class="checkItem"><input id="checkbox_2" type="checkbox" name="資訊管理應用" /><label for="checkbox_2">資訊管理應用</label></div>
                    <div class="checkItem"><input id="checkbox_3" type="checkbox" name="商品設計與研發" /><label for="checkbox_3">商品設計與研發</label></div>
                    <div class="checkItem"><input id="checkbox_4" type="checkbox" name="商管相關法令應用" /><label for="checkbox_4">商管相關法令應用</label></div>
                    <div class="checkItem"><input id="checkbox_5" type="checkbox" name="語言應用能力" /><label for="checkbox_5">語言應用能力</label></div>
                    <div class="checkItem"><input id="checkbox_6" type="checkbox" name="國際經貿知識與實務" /><label for="checkbox_6">國際經貿知識與實務</label></div>
                    <div class="checkItem"><input id="checkbox_7" type="checkbox" name="數位科技應用" /><label for="checkbox_7">數位科技應用</label></div>
                    <div class="checkItem"><input id="checkbox_8" type="checkbox" name="財務管理與金融投資" /><label for="checkbox_8">財務管理與金融投資</label></div>
                    <div class="checkItem"><input id="checkbox_9" type="checkbox" name="組織與人力資源管理" /><label for="checkbox_9">組織與人力資源管理</label></div>
                  </div>
                </div>

                <div class="searchBox">
                  <div class="infoTitle">共同職能指標</div>
                  <div class="checkBox type2">
                    <div class="checkItem"><input id="checkbox_10" type="checkbox" name="溝通表達" /><label for="checkbox_10">溝通表達</label></div>
                    <div class="checkItem"><input id="checkbox_11" type="checkbox" name="持續學習" /><label for="checkbox_11">持續學習</label></div>
                    <div class="checkItem"><input id="checkbox_12" type="checkbox" name="人際互動" /><label for="checkbox_12">人際互動</label></div>
                    <div class="checkItem"><input id="checkbox_13" type="checkbox" name="團隊合作" /><label for="checkbox_13">團隊合作</label></div>
                    <div class="checkItem"><input id="checkbox_14" type="checkbox" name="問題解決" /><label for="checkbox_14">問題解決</label></div>
                    <div class="checkItem"><input id="checkbox_15" type="checkbox" name="創新能力" /><label for="checkbox_15">創新能力</label></div>
                    <div class="checkItem"><input id="checkbox_16" type="checkbox" name="工作責任與紀律" /><label for="checkbox_16">工作責任與紀律</label></div>
                    <div class="checkItem"><input id="checkbox_17" type="checkbox" name="資訊科技應用" /><label for="checkbox_17">資訊科技應用</label></div>
                    <div class="checkItem"><input id="checkbox_18" type="checkbox" name="品格與人文素養" /><label for="checkbox_18">品格與人文素養</label></div>
                  </div>
                </div>

                <div class="btnBox">
                  <button class="clear">清除所有選擇</button>
                  <button>套用篩選</button>
                </div>

                <div class="listBox">
                  <!-- 沒資料時顯示-->
                  <div class="noData" style="display: none">查無資料...</div>
                  <!-- 沒資料時顯示-->

                  <div class="item">
                    <div class="picBox">
                      <div class="pic"><img alt="" src="https://images.unsplash.com/photo-1529590003495-b2646e2718bf?q=80&amp;w=776&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" /></div>
                    </div>
                    <div class="title">智慧工廠的資訊管理</div>
                    <div class="author">作者：陳思涵</div>
                    <div class="tagBox">
                      <div class="tag type1">資訊管理應用</div>
                      <div class="tag type1">數位科技應用</div>
                      <div class="tag type2">資訊科技應用</div>
                    </div>
                    <button>查看詳情</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      (() => {
        const tabBtn = document.querySelectorAll('.tabTopNav button');
        const tabContent = document.querySelectorAll('.tabContent');

        tabBtn.forEach((btn, index) => {
          btn.addEventListener('click', () => {
            tabBtn.forEach((btn) => {
              btn.classList.remove('active');
            });
            btn.classList.add('active');
            tabContent.forEach((content) => {
              content.classList.remove('active');
            });
            tabContent[index].classList.add('active');
          });
        });
      })();

      let axisOptions = {
        min: 0,
        max: 90,
        ticks: {
          stepSize: 18,
        },
      };

      // 設定圖表顏色
      const chartColor = [
        { type: 'type1', color: '#7474db' },
        { type: 'type2', color: '#e65e7f' },
        { type: 'type3', color: '#2ca02c' },
        { type: 'type4', color: '#d62728' },
      ];

      let chartBar1 = document.getElementById('chartBar1');
      new Chart(chartBar1, {
        type: 'bar',
        data: {
          labels: ['問題解決策略', '資訊安全與數位倫理', '終身學習的力量', '人工智慧與品格', '建立良好人際關係', '從零到一的創新思維', '高效溝通的藝術', '職場責任與自我管理'],
          datasets: [
            {
              data: [78, 76, 55, 60, 46, 69, 50, 58],
              borderWidth: 1,
            },
          ],
        },
        options: {
          indexAxis: 'y',
          maintainAspectRatio: false,
          responsive: true,
          plugins: {
            legend: { display: false },
          },
          scales: {
            x: {
              ...axisOptions,
              grid: { display: false },
              ticks: {
                ...axisOptions.ticks, // 保留 stepSize 等設定
                font: { size: 12 }, // 設定X軸（數值）的文字大小
              },
            },
            y: {
              grid: { display: false },
              ticks: {
                font: { size: 14 }, // 設定Y軸（書名）的文字大小
              },
            },
          },
          elements: {
            bar: { backgroundColor: chartColor[0].color },
          },
        },
      });

      let chartBar2 = document.getElementById('chartBar2');
      new Chart(chartBar2, {
        type: 'bar',
        data: {
          labels: ['數據驅動的商業決策', '人工智慧在金融的應用', '設計思考與創新產品開發', '商務英語溝通', '全球化下的經貿策略', '投資組合管理實務', '智慧工廠的資訊管理', '國際貿易法規實務'],
          datasets: [
            {
              data: [67, 62, 83, 60, 51, 62, 59, 64],
              borderWidth: 1,
            },
          ],
        },
        options: {
          indexAxis: 'y',
          maintainAspectRatio: false,
          responsive: true,
          plugins: {
            legend: { display: false },
          },
          scales: {
            x: {
              ...axisOptions,
              grid: { display: false },
              ticks: {
                ...axisOptions.ticks, // 保留 stepSize 等設定
                font: { size: 12 }, // 設定X軸（數值）的文字大小
              },
            },
            y: {
              grid: { display: false },
              ticks: {
                font: { size: 14 }, // 設定Y軸（書名）的文字大小
              },
            },
          },
          elements: {
            bar: { backgroundColor: chartColor[1].color },
          },
        },
      });

      // radar
      let chartRadar1 = document.getElementById('chartRadar1');
      new Chart(chartRadar1, {
        type: 'radar',
        data: {
          labels: ['問題解決策略', '資訊安全與數位倫理', '終身學習的力量', '人工智慧與品格', '建立良好人際關係', '從零到一的創新思維', '高效溝通的藝術', '職場責任與自我管理'],
          datasets: [
            {
              label: '專業能力指標',
              data: [78, 76, 55, 60, 46, 69, 50, 58],
              backgroundColor: 'rgba(116, 116, 219, 0.2)',
              borderColor: chartColor[0].color,
              pointBackgroundColor: chartColor[0].color,
              pointBorderColor: '#fff',
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
          },
          elements: {
            line: { borderWidth: 2 },
          },
          scales: {
            r: {
              ...axisOptions,
              ticks: {
                ...axisOptions.ticks, // 保留 stepSize 等設定
                backdropColor: 'transparent', // 讓數字背景透明，避免擋住格線
                font: { size: 10 }, // 設定刻度（數值）的文字大小
              },
              pointLabels: {
                font: { size: 12 }, // 設定標籤（書名）的文字大小
              },
            },
          },
        },
      });

      let chartRadar2 = document.getElementById('chartRadar2');
      new Chart(chartRadar2, {
        type: 'radar',
        data: {
          labels: ['數據驅動的商業決策', '人工智慧在金融的應用', '設計思考與創新產品開發', '商務英語溝通', '全球化下的經貿策略', '投資組合管理實務', '智慧工廠的資訊管理', '國際貿易法規實務'],
          datasets: [
            {
              label: '共同職能指標',
              data: [67, 62, 83, 60, 51, 62, 59, 64],
              backgroundColor: 'rgba(230, 94, 127, 0.2)',
              borderColor: chartColor[1].color,
              pointBackgroundColor: chartColor[1].color,
              pointBorderColor: '#fff',
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false },
          },
          elements: {
            line: { borderWidth: 2 },
          },
          scales: {
            r: {
              ...axisOptions,
              ticks: {
                ...axisOptions.ticks, // 保留 stepSize 等設定
                backdropColor: 'transparent', // 讓數字背景透明，避免擋住格線
                font: { size: 10 }, // 設定刻度（數值）的文字大小
              },
              pointLabels: {
                font: { size: 12 }, // 設定標籤（書名）的文字大小
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
